---
title: "BPMN2.0规范概念学习"
updated: 2017-07-09 15:30:56
---

# BPMN2.0是什么
BPM为业务流程管理，基本内容是管理既定工作的流程，通过服务编排，统一调控各个业务流程，以**确保工作在正确的时间被正确的人执行**，达到优化整体业务过程的目的。

BPMN2.0(Business Process Model and Notation)是一套描述工作流的规范。定义了关于BPM规范的执行语义和格式。由BPMI（Business Process Management Initiative）开发，2004年5月发布了BPMN1.0规范。BPMI于2005年9月并入OMG（The Object Management Group)组织。OMG于2011年1月发布BPMI2.0的最终版本。

BPMN2.0旨在充当公共语言，通过提供一套既匹配业务人员直观又能表现复杂流程语义的标记法，同时为技术人员和业务人员从事业务流程管理提供支持，跨越业务流程设计和实施之间常见的鸿沟。

它确保了几个一致性。

+ Process Modeling Conformance 流程模型一致性
+ Process Execution conformance 流程执行一致性
+ BPEL Process Execution Conformance BPEL流程执行一致性
+ Choreography Modeling Conformance 编排模型一致性

# BPMN2.0基本概念
## BPMN2元素概述
BPMN2.0提供了五类对象：
1. 流对象（Flow Object）:
事件（Events），活动（Activities），网关（Gateways）
2. 连接对象（Connecting Objects）
顺序流（Sequence Flow），消息流（Message Flow），关联（Association）
3. 泳道（Swimlanes）
池（Pool），道（Lane）
4. 器物（Artifacts/Artefacts）
组（Group），注释（Annotation）
5. 数据（Data)
数据对象（Data Object）

![此处输入图片的描述][5]

这几大类对象令我们有机会做出简单的业务流程图（BPD, business process diagram）。    
同时，BPMN也允许在BPD中创建你自己的流对象、器物类型，使图更好理解。

## 流对象

+ Events 事件    

![此处输入图片的描述][6]    

Event用一个圆圈表示，它是流程中运行过程中发生的事情，它**区别于"Activities"所代表的所做的事情**。 事件的发生会影响到流程的流转。    

事件包含Start\Intermediate\End三种类型。启动、结束、边界条件以及每个活动的创建、开始、流转等都是流程事件，利用事件机制，可以通过事件控制器为系统增加辅助功能，如其它业务系统集成、活动预警等.

Event上可挂载事件类型，信封为消息事件，时钟为时间事件。    
同时，Event又分为“捕获”（Catching，例如捕获输入的消息而开始一个流程）与“抛出”（Throwing，例如在流程结束抛出消息）。    
在实际业务场景中，可能会出现一任务流到一事件，抛出一个消息到另一个池，然后由下一个事件守候，捕获其回应。

+ Activities 活动    

![此处输入图片的描述][7]    

活动用圆角矩形表示，一个活动多个活动组成，活动的类型分为Task和Sub-Process。    
Task能描述业务过程中所有能发生工时的行为，是流程在流转过程中的一个原子活动，它被用于流程中的工作不能被拆开到更细级别时的场景，它包括很多各类，可以被用来描述人机交互任务、线下操作任务、服务调用、脚本计算任务等常规功能。    
其中最重要的将人与人连接到一起的是UserTask，常用于需要多人协作业务系统的审核模块。    
Sub-Process事件子过程可以出现在过程或子过程中，其开始事件触发它活动，它可以中断上一层过程，也可以与上一层过程中的活动平行执行，这一切取决于它开始事件的行为。    
子流程自含开始及结束事件，来自“父”流程的顺序流不可跨过其边框。    
事务是子流程的一种形式，其所包含的全部活动必须作为一个整体对待，即它们必须完全结束以满足目标，其中任何一个失败就必须全部偿还（撤回）。

+ Gateways 网关    

![此处输入图片的描述][8]    

网关用菱形表示，用于控制流程的分支和聚合，决定流程流转指向。用来对流程中的决策进行建模。    
排它网关计算顺序流上condition，第一个为true的执行；    
并行网关无视顺序流上condition，全部执行；    
包容网关计算顺序流上condition，所有为true的执行。    
基于事件网关必须有两条或以上外出顺序流。

## 连接对象

![此处输入图片的描述][10]    

+ Sequence Flows 顺序流    
Sequence Flows用实线实心箭头表示，代表流程中将被执行的活动的执行顺序。    
它是两个流程元素间的连接器。一个元素在流程执行期间被访问后，流程会沿着该元素输出的方向继续执行。    
顺序流是事件，活动和网关之间的连线，每个顺序流都有一个源头和一个目标引用，包含了 活动，事件或网关的id。    
给顺序流添加condition条件, 根据结果true or false来决定流转。

+ Message Flows 消息流    
消息流用虚线空心箭头表示，可以与泳池、活动或消息事件连在一起。    
消息流用来表示两个分开的流程参与者之间发送或者接收到的消息流。    
它告诉我们哪些消息流跨过组织的边界（即介于池之间）。    
消息流不可用于在同一个池中连接活动或事件。

+ Associations 结合关系    
Associations 用点状虚线表示，用于显示活动的输入输出.    

+ Data Associations 数据结合关系    

## 泳道

![此处输入图片的描述][11]    
泳池和泳道都表示活动的参与者，即表示过程中活动的执行者，它可以是一个组织、角色或系统。泳池可以划分成多个泳道，泳道具有分层结构.    
泳道是从视觉上对活动加以组织或分类的机制。它基于交叉功能流程图基础，在BPMN中有两种类型。

+ Pools 池    
表示流程中的主要参与者，典型地，用来分开不同的组织。一个池可容纳一个或多个道（像真实的泳池一样）。当池为展开的（显示出内部细节），绘做大的矩形；若为收起的（隐藏起内部细节），绘做沿着图的长或宽伸展的空的矩形。

+ Lanes 道    
在池中，用于活动按职能或角色归类。绘做按池的长或宽展开的矩形。道包含流对象、连接对象和人造物。    
泳道(Swimlanes)用于区分不同的功能和职责.    
池（Pool）    
表示流程中的主要参与者，典型地，用来分开不同的组织。一个池可容纳一个或多个道（像真实的泳池一样）。    
道（Lane）    
在池中，用于活动按职能或角色归类。绘做按池的长或宽展开的矩形。道包含流对象、连接对象和人造物。    

各个pool中的活动通常有自身的流程，Lane常用来将活动按照角色划分，**sequenceFlow通常不会越过多个pool，而消息流可以**，**流程可以在一个pool中跨Lane流转，但是在同一个pool中消息流通常不跨lane流转**。


## 器物

![此处输入图片的描述][12]    
器物使开发者可以带给模型／图更多的信息，通过这一方式，使模型／图更可读。

+ Group 组
   组表现为虚线的圆角矩形。组用来将不同的活动分组，但不影响图中的流。

+ Text Annotation 文本注释
   注释为模型／图的读者增加可理解性。

## Data 数据

![此处输入图片的描述][9]    
数据对象向读者显示在活动中需要或产生哪些数据.

+ Data Objects 数据对象
代表过程中流动的信息，例如：业务文件、E-mail、信件。

+ Data Inputs 数据输入
整个过程中可以被活动读取的外部数据.

+ Data OutPuts 数据输出
作为整个过程的输出数据量.

+ Data Stores 数据存储
存放过程数据的地方，例如数据库或文件。其生命周期超过了过程实例的生命周期，即过程实例结束了，但数据依然存在。

+ Message 消息
消息用来表示两个参与者之间通讯的内容。

# 业务流程分类
## 私有（Private；内部的）业务流程
私有业务流程是指特定组织内部且通常被称为工作流或业务流程管理（BPM）流程的一类流程。如果用了泳道，则一个私有业务流程将包容在单个的池中。该流程的顺序流完全包含在其池之中，不可跨越边界。消息流可以跨越池的边界，显示不同的私有业务流程间的交互作用。    
## 抽象（Abstract；公共的）流程
表示私有业务流程与其它流程或参与者之间的交互。只有那些通讯范围超出私有业务流程的活动包括在抽象流程中。剩下那些私有业务流程的“内部”活动不显示在抽象流程中。即，抽象流程向外部世界显示消息序列，这些消息序列是与其业务流程交互所必须的。抽象流程可包含在一个池中并单独建模，或包含在一个大的BPMN图中显示抽象流程活动与其它实体之间的消息流。如果一抽象流程与其对应的私有流程在同一个图中，则其活动对可关联的流程双方是共用的。    
## 协作（Collaboration；全局的）流程
协作流程刻画两个或更多业务实体之间的交互作用。这些交互作用定义为活动序列，这些活动序列表示所涉及实体之间的消息交换模式。协作流程也可能包容在一个池中，不同参与者的业务交互作用显示为该池中的道。在这种情形下，每个道将代表两个参与者和他们之间的移动方向。它们也可以显示为两个或更多的抽象流程，通过消息流交互作用（如上一节所描述）。这些流程可以独自建模，或者在一个大的BPMN图中显示协作流程活动和其它实体间的关联。如果协作流程在同一个图中作为协作的私有业务流程，则其活动对可关联的流程双方是共用的。    

# 流程图元参考
![](http://osriq34d5.bkt.clouddn.com//17-7-12/9660019.jpg)





  [1]: http://www.bpmb.de/images/BPMN2_0_Symbols-Terms_CHN.PDF
  [2]: http://www.bpmb.de/images/BPMN2_0_Poster_CHN.PDF
  [3]: http://blog.bizcloudsoft.com/wp-content/uploads/BPMN2.0%E6%A8%A1%E5%9E%8B%E7%AC%A6%E5%8F%B7%E4%B8%80%E8%A7%88%E8%A1%A8_1.0.pdf
  [4]: http://or9cryhof.bkt.clouddn.com/0001.jpg
  [5]: http://or9cryhof.bkt.clouddn.com/%E5%85%83%E7%B4%A0%E5%88%86%E7%B1%BB.png
  [6]: http://or9cryhof.bkt.clouddn.com/%E4%BA%8B%E4%BB%B6.png
  [7]: http://or9cryhof.bkt.clouddn.com/%E6%B4%BB%E5%8A%A8.png
  [8]: http://or9cryhof.bkt.clouddn.com/%E7%BD%91%E5%85%B3.png
  [9]: http://or9cryhof.bkt.clouddn.com/%E6%95%B0%E6%8D%AE.png
  [10]: http://or9cryhof.bkt.clouddn.com/%E8%BF%9E%E6%8E%A5%E5%AF%B9%E8%B1%A1.png
  [11]: http://or9cryhof.bkt.clouddn.com/%E6%B3%B3%E9%81%93.png
  [12]: http://or9cryhof.bkt.clouddn.com/%E6%8F%8F%E8%BF%B0.png
